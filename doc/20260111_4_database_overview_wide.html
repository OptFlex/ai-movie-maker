<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>çµµã‚³ãƒ³ãƒ†ã‚¢ãƒ—ãƒª - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å…¨ä½“å›³ï¼ˆãƒ¯ã‚¤ãƒ‰ç‰ˆï¼‰</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f5f5f5;
      padding: 0;
      line-height: 1.6;
      min-width: 1400px;
    }

    .header {
      background: linear-gradient(135deg, #1e3a8a 0%, #7c3aed 100%);
      color: white;
      padding: 50px 60px;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }

    .header h1 {
      font-size: 3.5rem;
      margin-bottom: 15px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    .header .subtitle {
      font-size: 1.4rem;
      opacity: 0.95;
      margin-bottom: 20px;
    }

    .header .date {
      background: rgba(255,255,255,0.2);
      backdrop-filter: blur(10px);
      display: inline-block;
      padding: 12px 30px;
      border-radius: 30px;
      font-weight: 600;
      border: 2px solid rgba(255,255,255,0.3);
      font-size: 1.1rem;
    }

    .container {
      max-width: 2300px;
      margin: 0 auto;
      padding: 50px 60px;
    }

    .legend {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-bottom: 40px;
      padding: 25px;
      background: white;
      border-radius: 16px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.1rem;
      font-weight: 600;
    }

    .legend-box {
      width: 30px;
      height: 30px;
      border-radius: 8px;
      border: 3px solid;
    }

    .legend-box.implemented {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      border-color: #10b981;
    }

    .legend-box.planned {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      border-color: #f59e0b;
    }

    /* ãƒ¡ã‚¤ãƒ³ãƒ“ãƒ¥ãƒ¼ï¼šå…¨ãƒ†ãƒ¼ãƒ–ãƒ«æ¨ªä¸¦ã³ */
    .main-view {
      background: white;
      border-radius: 20px;
      padding: 50px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      margin-bottom: 40px;
    }

    .view-title {
      font-size: 2.5rem;
      color: #1f2937;
      margin-bottom: 40px;
      text-align: center;
      padding-bottom: 20px;
      border-bottom: 4px solid #7c3aed;
    }

    /* ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
    .flow-layout {
      display: flex;
      flex-direction: column;
      gap: 30px;
    }

    .flow-row {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 40px;
      flex-wrap: wrap;
    }

    .flow-arrow-down {
      text-align: center;
      padding: 20px 0;
      font-size: 3rem;
      color: #7c3aed;
      font-weight: 700;
    }

    .relation-text {
      text-align: center;
      font-size: 1.3rem;
      font-weight: 700;
      color: #6b7280;
      background: #f3f4f6;
      padding: 15px 40px;
      border-radius: 30px;
      display: inline-block;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    /* ãƒ†ãƒ¼ãƒ–ãƒ«ã‚«ãƒ¼ãƒ‰ */
    .table-card {
      background: white;
      border: 4px solid #e5e7eb;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      transition: all 0.3s;
      min-width: 380px;
      max-width: 500px;
      flex: 1;
    }

    .table-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.2);
    }

    .table-card.implemented {
      border-color: #10b981;
    }

    .table-card.planned {
      border-color: #f59e0b;
    }

    .table-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 25px 30px;
      font-size: 1.6rem;
      font-weight: 700;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .table-card.implemented .table-header {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    .table-card.planned .table-header {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }

    .table-icon {
      font-size: 2rem;
      margin-right: 12px;
    }

    .status-badge {
      background: rgba(255,255,255,0.3);
      padding: 6px 16px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 700;
      border: 2px solid rgba(255,255,255,0.5);
    }

    .table-body {
      padding: 0;
      max-height: 450px;
      overflow-y: auto;
    }

    /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .table-body::-webkit-scrollbar {
      width: 8px;
    }

    .table-body::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .table-body::-webkit-scrollbar-thumb {
      background: #c0c0c0;
      border-radius: 4px;
    }

    .table-body::-webkit-scrollbar-thumb:hover {
      background: #a0a0a0;
    }

    .column-row {
      display: grid;
      grid-template-columns: 40% 25% 35%;
      padding: 14px 25px;
      border-bottom: 1px solid #e5e7eb;
      font-size: 0.95rem;
      transition: background 0.2s;
      gap: 10px;
      align-items: start;
    }

    .column-row:hover {
      background: #f9fafb;
    }

    .column-row:last-child {
      border-bottom: none;
    }

    .column-row.header {
      background: #f3f4f6;
      font-weight: 700;
      color: #374151;
      position: sticky;
      top: 0;
      z-index: 1;
    }

    .column-name {
      font-weight: 600;
      color: #1f2937;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 0.9rem;
      word-break: break-word;
    }

    .column-type {
      color: #6366f1;
      font-family: 'Monaco', 'Courier New', monospace;
      font-weight: 600;
      font-size: 0.85rem;
    }

    .column-desc {
      color: #6b7280;
      font-size: 0.9rem;
      line-height: 1.5;
    }

    .pk-badge {
      background: #fbbf24;
      color: #78350f;
      padding: 3px 10px;
      border-radius: 6px;
      font-size: 0.7rem;
      font-weight: 700;
      margin-left: 6px;
    }

    .fk-badge {
      background: #60a5fa;
      color: #1e3a8a;
      padding: 3px 10px;
      border-radius: 6px;
      font-size: 0.7rem;
      font-weight: 700;
      margin-left: 6px;
    }

    /* ã‚¤ãƒ³ãƒ•ã‚©ãƒœãƒƒã‚¯ã‚¹ */
    .info-box {
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      border: 3px solid #3b82f6;
      border-radius: 16px;
      padding: 30px 40px;
      margin: 30px 0;
    }

    .info-box-title {
      font-size: 1.6rem;
      font-weight: 700;
      color: #1e3a8a;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .info-box-content {
      color: #1e40af;
      line-height: 2;
      font-size: 1.1rem;
    }

    .info-box-content strong {
      color: #1e3a8a;
    }

    /* ã‚µãƒãƒªãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .summary-section {
      background: white;
      border-radius: 20px;
      padding: 50px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      margin-bottom: 40px;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
      margin-top: 30px;
    }

    .summary-card {
      padding: 30px;
      border-radius: 16px;
      border: 3px solid;
      transition: all 0.3s;
    }

    .summary-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    }

    .summary-card.done {
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      border-color: #10b981;
    }

    .summary-card.next {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border-color: #f59e0b;
    }

    .summary-card-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .summary-card.done .summary-card-title {
      color: #065f46;
    }

    .summary-card.next .summary-card-title {
      color: #78350f;
    }

    .summary-card-content {
      line-height: 1.9;
      font-size: 1.05rem;
    }

    .summary-card.done .summary-card-content {
      color: #047857;
    }

    .summary-card.next .summary-card-content {
      color: #92400e;
    }

    .summary-card ul {
      list-style: none;
      margin-top: 15px;
    }

    .summary-card ul li {
      padding: 8px 0;
      padding-left: 25px;
      position: relative;
    }

    .summary-card ul li::before {
      content: 'â–¸';
      position: absolute;
      left: 0;
      font-weight: 700;
    }

    /* ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .dataflow-section {
      background: white;
      border-radius: 20px;
      padding: 50px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      margin-bottom: 40px;
    }

    .dataflow-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 20px;
      margin-top: 30px;
    }

    .dataflow-step {
      background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
      border: 3px solid #e5e7eb;
      border-radius: 16px;
      padding: 25px;
      transition: all 0.3s;
      text-align: center;
    }

    .dataflow-step:hover {
      border-color: #7c3aed;
      transform: scale(1.05);
      box-shadow: 0 8px 24px rgba(124, 58, 237, 0.2);
    }

    .dataflow-number {
      background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 auto 15px;
      box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
    }

    .dataflow-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: #1f2937;
      margin-bottom: 10px;
    }

    .dataflow-desc {
      font-size: 0.95rem;
      color: #6b7280;
      line-height: 1.6;
    }

    .dataflow-desc code {
      background: #e5e7eb;
      padding: 2px 8px;
      border-radius: 4px;
      font-family: 'Monaco', monospace;
      color: #1f2937;
      font-size: 0.85rem;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ğŸ¬ çµµã‚³ãƒ³ãƒ†ã‚¢ãƒ—ãƒª ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å…¨ä½“å›³</h1>
    <p class="subtitle">å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä¸€ç›®ã§æŠŠæ¡ã§ãã‚‹ãƒ¯ã‚¤ãƒ‰ãƒ“ãƒ¥ãƒ¼</p>
    <div class="date">ğŸ“… 2026å¹´1æœˆ11æ—¥ç‰ˆ - å‹•ç”»ãƒ†ãƒ¼ãƒ–ãƒ«å«ã‚€å®Œå…¨ç‰ˆ</div>
  </div>

  <div class="container">
    <!-- å‡¡ä¾‹ -->
    <div class="legend">
      <div class="legend-item">
        <div class="legend-box implemented"></div>
        <span>å®Ÿè£…æ¸ˆã¿</span>
      </div>
      <div class="legend-item">
        <div class="legend-box planned"></div>
        <span>æ¬¡ã®å®Ÿè£…</span>
      </div>
    </div>

    <!-- ã‚µãƒãƒªãƒ¼ -->
    <div class="summary-section">
      <h2 class="view-title">ğŸ“Š å®Ÿè£…çŠ¶æ³ã‚µãƒãƒªãƒ¼</h2>

      <div class="summary-grid">
        <div class="summary-card done">
          <div class="summary-card-title">âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆ2ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰</div>
          <div class="summary-card-content">
            <ul>
              <li><strong>auth.users</strong> - Supabaseæ¨™æº–èªè¨¼</li>
              <li><strong>allowed_emails</strong> - ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆ</li>
            </ul>
            <p style="margin-top: 15px;">èªè¨¼åŸºç›¤ã¯å®Œæˆã€‚Google OAuthã¨ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆåˆ¶å¾¡ãŒç¨¼åƒä¸­ã€‚</p>
          </div>
        </div>

        <div class="summary-card next">
          <div class="summary-card-title">ğŸš€ æ¬¡ã®å®Ÿè£…ï¼ˆ5ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰</div>
          <div class="summary-card-content">
            <ul>
              <li><strong>projects</strong> - ä¼ç”»ç®¡ç†ï¼ˆGPSè¨­è¨ˆï¼‰</li>
              <li><strong>scenes</strong> - ã‚·ãƒ¼ãƒ³ç®¡ç†</li>
              <li><strong>dialogues</strong> - ã‚»ãƒªãƒ•</li>
              <li><strong>images</strong> - ç”»åƒå€™è£œ</li>
              <li><strong>videos</strong> - å‹•ç”»ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ï¼‰</li>
            </ul>
          </div>
        </div>

        <div class="summary-card done">
          <div class="summary-card-title">ğŸ”§ APIé€£æºï¼ˆEdge Functionsï¼‰</div>
          <div class="summary-card-content">
            <ul>
              <li><strong>generate-image</strong> - Gemini API</li>
              <li><strong>generate-video</strong> - Veo 3.1 API</li>
              <li><strong>check-video-status</strong> - ãƒãƒ¼ãƒªãƒ³ã‚°</li>
            </ul>
            <p style="margin-top: 15px;">ç”»åƒãƒ»å‹•ç”»ç”Ÿæˆã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†ã¯å®Ÿè£…æ¸ˆã¿ã€‚</p>
          </div>
        </div>
      </div>
    </div>

    <!-- ãƒ¡ã‚¤ãƒ³ãƒ“ãƒ¥ãƒ¼ï¼šå…¨ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ -->
    <div class="main-view">
      <h2 class="view-title">ğŸ—ºï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å…¨ä½“æ§‹é€ ï¼ˆERå›³ï¼‰</h2>

      <div class="info-box">
        <div class="info-box-title">ğŸ’¡ è¨­è¨ˆã®ãƒã‚¤ãƒ³ãƒˆ</div>
        <div class="info-box-content">
          <strong>éšå±¤æ§‹é€ :</strong> ãƒ¦ãƒ¼ã‚¶ãƒ¼ â†’ ä¼ç”» â†’ ã‚·ãƒ¼ãƒ³ â†’ (ã‚»ãƒªãƒ• + ç”»åƒ + å‹•ç”») ã®4éšå±¤è¨­è¨ˆ
          <strong>ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰å‰Šé™¤:</strong> ä¸Šä½éšå±¤ã‚’å‰Šé™¤ã™ã‚‹ã¨ä¸‹ä½ã‚‚è‡ªå‹•å‰Šé™¤ï¼ˆãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã‚’ä¿è¨¼ï¼‰
          <strong>RLS:</strong> å„ãƒ†ãƒ¼ãƒ–ãƒ«ã«è¡Œãƒ¬ãƒ™ãƒ«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’è¨­å®šã—ã€è‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
          <strong>å‹•ç”»ç®¡ç†:</strong> ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆprocessing/completed/failedï¼‰ã‚’ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
        </div>
      </div>

      <div class="flow-layout">
        <!-- ãƒ¬ãƒ™ãƒ«0: èªè¨¼ -->
        <div class="flow-row">
          <div class="table-card implemented" style="max-width: 600px;">
            <div class="table-header">
              <span><span class="table-icon">ğŸ”</span> auth.users</span>
              <span class="status-badge">Supabaseæ¨™æº–</span>
            </div>
            <div class="table-body">
              <div class="column-row header">
                <div>ã‚«ãƒ©ãƒ å</div>
                <div>å‹</div>
                <div>èª¬æ˜</div>
              </div>
              <div class="column-row">
                <div class="column-name">id <span class="pk-badge">PK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆå…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã®åŸºç›¤ï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">email</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆGoogle OAuthï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">created_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">ç™»éŒ²æ—¥æ™‚</div>
              </div>
            </div>
          </div>
        </div>

        <div class="flow-arrow-down">
          <div class="relation-text">â†“ 1ãƒ¦ãƒ¼ã‚¶ãƒ¼ : è¤‡æ•°ä¼ç”» (1:N)</div>
        </div>

        <!-- ãƒ¬ãƒ™ãƒ«1: ä¼ç”» -->
        <div class="flow-row">
          <div class="table-card planned" style="max-width: 650px;">
            <div class="table-header">
              <span><span class="table-icon">ğŸ“‹</span> projectsï¼ˆä¼ç”»ç®¡ç†ï¼‰</span>
              <span class="status-badge">æ¬¡ã®å®Ÿè£…</span>
            </div>
            <div class="table-body">
              <div class="column-row header">
                <div>ã‚«ãƒ©ãƒ å</div>
                <div>å‹</div>
                <div>èª¬æ˜</div>
              </div>
              <div class="column-row">
                <div class="column-name">id <span class="pk-badge">PK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">ä¼ç”»ID</div>
              </div>
              <div class="column-row">
                <div class="column-name">user_id <span class="fk-badge">FK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">ä½œæˆè€…IDï¼ˆauth.usersï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">title</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">ä¼ç”»ã‚¿ã‚¤ãƒˆãƒ«</div>
              </div>
              <div class="column-row">
                <div class="column-name">channel_name</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">YouTubeãƒãƒ£ãƒ³ãƒãƒ«å</div>
              </div>
              <div class="column-row">
                <div class="column-name">thumbnail_url</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒURL</div>
              </div>
              <div class="column-row">
                <div class="column-name">goal</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">ç›®æ¨™ï¼ˆGPS - Goalï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">plan</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">è¨ˆç”»ï¼ˆGPS - Planï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">status</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">é€²æ—ï¼ˆGPS - Statusï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">created_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">ä½œæˆæ—¥æ™‚</div>
              </div>
              <div class="column-row">
                <div class="column-name">updated_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">æ›´æ–°æ—¥æ™‚</div>
              </div>
            </div>
          </div>
        </div>

        <div class="flow-arrow-down">
          <div class="relation-text">â†“ 1ä¼ç”» : è¤‡æ•°ã‚·ãƒ¼ãƒ³ (1:N)</div>
        </div>

        <!-- ãƒ¬ãƒ™ãƒ«2: ã‚·ãƒ¼ãƒ³ -->
        <div class="flow-row">
          <div class="table-card planned" style="max-width: 550px;">
            <div class="table-header">
              <span><span class="table-icon">ğŸï¸</span> scenesï¼ˆã‚·ãƒ¼ãƒ³ç®¡ç†ï¼‰</span>
              <span class="status-badge">æ¬¡ã®å®Ÿè£…</span>
            </div>
            <div class="table-body">
              <div class="column-row header">
                <div>ã‚«ãƒ©ãƒ å</div>
                <div>å‹</div>
                <div>èª¬æ˜</div>
              </div>
              <div class="column-row">
                <div class="column-name">id <span class="pk-badge">PK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">ã‚·ãƒ¼ãƒ³ID</div>
              </div>
              <div class="column-row">
                <div class="column-name">project_id <span class="fk-badge">FK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">æ‰€å±ä¼ç”»IDï¼ˆprojectsï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">number</div>
                <div class="column-type">INTEGER</div>
                <div class="column-desc">ã‚·ãƒ¼ãƒ³ç•ªå·ï¼ˆ#1, #2, #3...ï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">created_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">ä½œæˆæ—¥æ™‚</div>
              </div>
              <div class="column-row">
                <div class="column-name">updated_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">æ›´æ–°æ—¥æ™‚</div>
              </div>
            </div>
          </div>
        </div>

        <div class="flow-arrow-down">
          <div class="relation-text">â†“ 1ã‚·ãƒ¼ãƒ³ : è¤‡æ•°ã‚»ãƒªãƒ•ãƒ»ç”»åƒãƒ»å‹•ç”» (1:N)</div>
        </div>

        <!-- ãƒ¬ãƒ™ãƒ«3: ã‚»ãƒªãƒ•ãƒ»ç”»åƒãƒ»å‹•ç”» -->
        <div class="flow-row">
          <div class="table-card planned">
            <div class="table-header">
              <span><span class="table-icon">ğŸ’¬</span> dialoguesï¼ˆã‚»ãƒªãƒ•ï¼‰</span>
              <span class="status-badge">æ¬¡ã®å®Ÿè£…</span>
            </div>
            <div class="table-body">
              <div class="column-row header">
                <div>ã‚«ãƒ©ãƒ å</div>
                <div>å‹</div>
                <div>èª¬æ˜</div>
              </div>
              <div class="column-row">
                <div class="column-name">id <span class="pk-badge">PK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">ã‚»ãƒªãƒ•ID</div>
              </div>
              <div class="column-row">
                <div class="column-name">scene_id <span class="fk-badge">FK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">æ‰€å±ã‚·ãƒ¼ãƒ³ID</div>
              </div>
              <div class="column-row">
                <div class="column-name">speaker</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">è©±è€…åï¼ˆä¾‹: ãƒŠãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">text</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">ã‚»ãƒªãƒ•æœ¬æ–‡</div>
              </div>
              <div class="column-row">
                <div class="column-name">order_index</div>
                <div class="column-type">INTEGER</div>
                <div class="column-desc">ç™ºè©±é †åºï¼ˆ0, 1, 2...ï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">created_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">ä½œæˆæ—¥æ™‚</div>
              </div>
              <div class="column-row">
                <div class="column-name">updated_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">æ›´æ–°æ—¥æ™‚</div>
              </div>
            </div>
          </div>

          <div class="table-card planned">
            <div class="table-header">
              <span><span class="table-icon">ğŸ–¼ï¸</span> imagesï¼ˆç”»åƒå€™è£œï¼‰</span>
              <span class="status-badge">æ¬¡ã®å®Ÿè£…</span>
            </div>
            <div class="table-body">
              <div class="column-row header">
                <div>ã‚«ãƒ©ãƒ å</div>
                <div>å‹</div>
                <div>èª¬æ˜</div>
              </div>
              <div class="column-row">
                <div class="column-name">id <span class="pk-badge">PK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">ç”»åƒID</div>
              </div>
              <div class="column-row">
                <div class="column-name">scene_id <span class="fk-badge">FK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">æ‰€å±ã‚·ãƒ¼ãƒ³ID</div>
              </div>
              <div class="column-row">
                <div class="column-name">prompt</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">Gemini APIç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</div>
              </div>
              <div class="column-row">
                <div class="column-name">image_url</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">Supabase Storage URL</div>
              </div>
              <div class="column-row">
                <div class="column-name">selected</div>
                <div class="column-type">BOOLEAN</div>
                <div class="column-desc">æ¡ç”¨ãƒ•ãƒ©ã‚°ï¼ˆ1ã‚·ãƒ¼ãƒ³1ã¤ï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">created_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">ä½œæˆæ—¥æ™‚</div>
              </div>
            </div>
          </div>

          <div class="table-card planned">
            <div class="table-header">
              <span><span class="table-icon">ğŸ¥</span> videosï¼ˆå‹•ç”»ï¼‰</span>
              <span class="status-badge">æ¬¡ã®å®Ÿè£…</span>
            </div>
            <div class="table-body">
              <div class="column-row header">
                <div>ã‚«ãƒ©ãƒ å</div>
                <div>å‹</div>
                <div>èª¬æ˜</div>
              </div>
              <div class="column-row">
                <div class="column-name">id <span class="pk-badge">PK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">å‹•ç”»ID</div>
              </div>
              <div class="column-row">
                <div class="column-name">scene_id <span class="fk-badge">FK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">æ‰€å±ã‚·ãƒ¼ãƒ³ID</div>
              </div>
              <div class="column-row">
                <div class="column-name">image_id <span class="fk-badge">FK</span></div>
                <div class="column-type">UUID</div>
                <div class="column-desc">å‚ç…§ç”»åƒIDï¼ˆimagesï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">prompt</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">Veo APIå‹•ç”»ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</div>
              </div>
              <div class="column-row">
                <div class="column-name">video_url</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">Supabase Storage URL</div>
              </div>
              <div class="column-row">
                <div class="column-name">operation_name</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">Veo APIãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆãƒãƒ¼ãƒªãƒ³ã‚°ç”¨ï¼‰</div>
              </div>
              <div class="column-row">
                <div class="column-name">status</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">processing/completed/failed</div>
              </div>
              <div class="column-row">
                <div class="column-name">model_type</div>
                <div class="column-type">TEXT</div>
                <div class="column-desc">Fast/Standard</div>
              </div>
              <div class="column-row">
                <div class="column-name">created_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">ä½œæˆæ—¥æ™‚</div>
              </div>
              <div class="column-row">
                <div class="column-name">completed_at</div>
                <div class="column-type">TIMESTAMPTZ</div>
                <div class="column-desc">å®Œäº†æ—¥æ™‚</div>
              </div>
            </div>
          </div>
        </div>

        <!-- ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼ˆåˆ¥ç³»çµ±ï¼‰ -->
        <div style="margin-top: 80px; padding-top: 50px; border-top: 5px dashed #9ca3af; width: 100%;">
          <h3 style="text-align: center; color: #4b5563; margin-bottom: 40px; font-size: 2rem;">ğŸ”’ ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼ˆåˆ¥ç³»çµ±ï¼‰</h3>

          <div class="flow-row">
            <div class="table-card implemented" style="max-width: 600px;">
              <div class="table-header">
                <span><span class="table-icon">âœ…</span> allowed_emailsï¼ˆãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆï¼‰</span>
                <span class="status-badge">å®Ÿè£…æ¸ˆã¿</span>
              </div>
              <div class="table-body">
                <div class="column-row header">
                  <div>ã‚«ãƒ©ãƒ å</div>
                  <div>å‹</div>
                  <div>èª¬æ˜</div>
                </div>
                <div class="column-row">
                  <div class="column-name">email <span class="pk-badge">PK</span></div>
                  <div class="column-type">TEXT</div>
                  <div class="column-desc">è¨±å¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</div>
                </div>
                <div class="column-row">
                  <div class="column-name">name</div>
                  <div class="column-type">TEXT</div>
                  <div class="column-desc">ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆä»»æ„ï¼‰</div>
                </div>
                <div class="column-row">
                  <div class="column-name">added_at</div>
                  <div class="column-type">TIMESTAMPTZ</div>
                  <div class="column-desc">ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆè¿½åŠ æ—¥æ™‚</div>
                </div>
                <div class="column-row">
                  <div class="column-name">notes</div>
                  <div class="column-type">TEXT</div>
                  <div class="column-desc">ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ -->
    <div class="dataflow-section">
      <h2 class="view-title">ğŸ”„ ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œï¼ˆ10ã‚¹ãƒ†ãƒƒãƒ—ï¼‰</h2>

      <div class="dataflow-grid">
        <div class="dataflow-step">
          <div class="dataflow-number">1</div>
          <div class="dataflow-title">ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²</div>
          <div class="dataflow-desc">Google OAuth â†’ <code>auth.users</code></div>
        </div>

        <div class="dataflow-step">
          <div class="dataflow-number">2</div>
          <div class="dataflow-title">ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆç¢ºèª</div>
          <div class="dataflow-desc"><code>allowed_emails</code> ã§ãƒ¡ãƒ¼ãƒ«ç…§åˆ</div>
        </div>

        <div class="dataflow-step">
          <div class="dataflow-number">3</div>
          <div class="dataflow-title">ä¼ç”»ä½œæˆ</div>
          <div class="dataflow-desc"><code>projects</code> ã«GPSè¨­è¨ˆã‚’ä¿å­˜</div>
        </div>

        <div class="dataflow-step">
          <div class="dataflow-number">4</div>
          <div class="dataflow-title">ã‚·ãƒ¼ãƒ³è¿½åŠ </div>
          <div class="dataflow-desc"><code>scenes</code> ã«ã‚·ãƒ¼ãƒ³ç•ªå·ã‚’è¨­å®š</div>
        </div>

        <div class="dataflow-step">
          <div class="dataflow-number">5</div>
          <div class="dataflow-title">ã‚»ãƒªãƒ•å…¥åŠ›</div>
          <div class="dataflow-desc"><code>dialogues</code> ã«ç™ºè©±é †åºã§ä¿å­˜</div>
        </div>

        <div class="dataflow-step">
          <div class="dataflow-number">6</div>
          <div class="dataflow-title">ç”»åƒç”Ÿæˆ</div>
          <div class="dataflow-desc">Gemini API â†’ Base64ç”»åƒå–å¾—</div>
        </div>

        <div class="dataflow-step">
          <div class="dataflow-number">7</div>
          <div class="dataflow-title">ç”»åƒä¿å­˜</div>
          <div class="dataflow-desc">Storage â†’ <code>images</code> ãƒ†ãƒ¼ãƒ–ãƒ«</div>
        </div>

        <div class="dataflow-step">
          <div class="dataflow-number">8</div>
          <div class="dataflow-title">å‹•ç”»ç”Ÿæˆé–‹å§‹</div>
          <div class="dataflow-desc">Veo API â†’ <code>videos</code> (processing)</div>
        </div>

        <div class="dataflow-step">
          <div class="dataflow-number">9</div>
          <div class="dataflow-title">ãƒãƒ¼ãƒªãƒ³ã‚°</div>
          <div class="dataflow-desc">operation_nameã§é€²æ—ç¢ºèª</div>
        </div>

        <div class="dataflow-step">
          <div class="dataflow-number">10</div>
          <div class="dataflow-title">å‹•ç”»ä¿å­˜</div>
          <div class="dataflow-desc">Storage â†’ status=completed</div>
        </div>
      </div>
    </div>

  </div>
</body>
</html>