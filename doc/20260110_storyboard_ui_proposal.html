<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>絵コンテUI改善提案 - 2026/01/10</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            background: white;
        }
        .current {
            border-color: #3b82f6;
            background: #eff6ff;
        }
        .proposal {
            border-color: #10b981;
            background: #f0fdf4;
        }
        .workflow-arrow {
            font-size: 2rem;
            color: #6366f1;
        }
        .column-box {
            border: 3px dashed;
            border-radius: 8px;
            padding: 16px;
            min-height: 200px;
        }
        .col-gps { border-color: #f59e0b; background: #fffbeb; }
        .col-scenes { border-color: #3b82f6; background: #eff6ff; }
        .col-image { border-color: #8b5cf6; background: #f5f3ff; }
        .col-video { border-color: #10b981; background: #f0fdf4; }
    </style>
</head>
<body class="bg-gray-50 p-8">
    <div class="max-w-7xl mx-auto">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">絵コンテUI改善提案</h1>
        <p class="text-gray-600 mb-8">日付: 2026年1月10日</p>

        <!-- 目的 -->
        <div class="card mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">🎯 目的</h2>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
                <li><strong>画像生成 → 動画生成</strong>のワークフローを1つの画面で完結させる</li>
                <li>シーンごとに画像を生成し、その画像を使って動画を生成できるようにする</li>
                <li>ページ遷移なしで、横スクロールで全体を把握できるUI</li>
            </ul>
        </div>

        <!-- 現在のUI -->
        <div class="card current mb-8">
            <h2 class="text-2xl font-bold text-blue-900 mb-4">📋 現在のUI（3カラム）</h2>
            <div class="grid grid-cols-3 gap-4 mb-4">
                <div class="column-box col-gps">
                    <h3 class="font-bold text-orange-800 mb-2">左: GPS</h3>
                    <ul class="text-sm space-y-1">
                        <li>✓ 企画名</li>
                        <li>✓ Goal/Plan/Status</li>
                        <li>✓ サムネイル</li>
                    </ul>
                </div>
                <div class="column-box col-scenes">
                    <h3 class="font-bold text-blue-800 mb-2">中央: シーン一覧</h3>
                    <ul class="text-sm space-y-1">
                        <li>✓ シーン#1, #2, #3...</li>
                        <li>✓ セリフ管理</li>
                        <li>✓ 画像プレビュー</li>
                    </ul>
                </div>
                <div class="column-box col-image">
                    <h3 class="font-bold text-purple-800 mb-2">右: 画像生成</h3>
                    <ul class="text-sm space-y-1">
                        <li>✓ 選択中のシーン</li>
                        <li>✓ プロンプト入力</li>
                        <li>✓ 画像生成</li>
                        <li>✓ 画像履歴</li>
                    </ul>
                </div>
            </div>
            <p class="text-sm text-blue-700 font-semibold">⚠️ 問題点: 動画生成は別ページ（api-test-movie.html）に遷移する必要がある</p>
        </div>

        <!-- 提案 -->
        <h2 class="text-3xl font-bold text-gray-900 mb-6">💡 改善案</h2>

        <!-- 案1: 4カラムレイアウト -->
        <div class="card proposal mb-8">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-2xl font-bold text-green-900">案1: 4カラムレイアウト（推奨）</h3>
                <span class="bg-green-600 text-white px-3 py-1 rounded-full text-sm font-semibold">推奨</span>
            </div>

            <div class="grid grid-cols-4 gap-3 mb-4">
                <div class="column-box col-gps">
                    <h4 class="font-bold text-orange-800 mb-2 text-sm">GPS</h4>
                    <p class="text-xs">固定幅<br>280px</p>
                </div>
                <div class="column-box col-scenes">
                    <h4 class="font-bold text-blue-800 mb-2 text-sm">シーン一覧</h4>
                    <p class="text-xs">可変幅<br>flex-1</p>
                </div>
                <div class="column-box col-image">
                    <h4 class="font-bold text-purple-800 mb-2 text-sm">画像生成</h4>
                    <p class="text-xs">固定幅<br>360px</p>
                </div>
                <div class="column-box col-video">
                    <h4 class="font-bold text-green-800 mb-2 text-sm">🆕 動画生成</h4>
                    <p class="text-xs">固定幅<br>360px</p>
                </div>
            </div>

            <h4 class="font-bold text-gray-900 mb-2">✅ メリット</h4>
            <ul class="list-disc list-inside space-y-1 text-sm text-gray-700 mb-4">
                <li>画像生成と動画生成が隣同士で見やすい</li>
                <li>ワークフローが左から右へ自然に流れる（GPS → シーン → 画像 → 動画）</li>
                <li>実装が比較的シンプル</li>
            </ul>

            <h4 class="font-bold text-gray-900 mb-2">⚠️ デメリット</h4>
            <ul class="list-disc list-inside space-y-1 text-sm text-gray-700">
                <li>横幅が狭くなる（1920px以上のディスプレイ推奨）</li>
                <li>シーン一覧の表示スペースが減る</li>
            </ul>
        </div>

        <!-- 案2: タブ切り替え -->
        <div class="card proposal mb-8">
            <h3 class="text-2xl font-bold text-green-900 mb-4">案2: 右パネルをタブ切り替え</h3>

            <div class="grid grid-cols-3 gap-4 mb-4">
                <div class="column-box col-gps">
                    <h4 class="font-bold text-orange-800 mb-2 text-sm">GPS</h4>
                    <p class="text-xs">固定幅<br>280px</p>
                </div>
                <div class="column-box col-scenes">
                    <h4 class="font-bold text-blue-800 mb-2 text-sm">シーン一覧</h4>
                    <p class="text-xs">可変幅<br>flex-1</p>
                </div>
                <div class="column-box" style="border-color: #6b7280; background: #f9fafb;">
                    <h4 class="font-bold text-gray-800 mb-2 text-sm">右パネル（タブ）</h4>
                    <div class="flex gap-2 mb-2">
                        <button class="px-3 py-1 bg-purple-600 text-white rounded text-xs">📷 画像生成</button>
                        <button class="px-3 py-1 bg-gray-300 text-gray-700 rounded text-xs">🎬 動画生成</button>
                    </div>
                    <p class="text-xs">固定幅 400px</p>
                </div>
            </div>

            <h4 class="font-bold text-gray-900 mb-2">✅ メリット</h4>
            <ul class="list-disc list-inside space-y-1 text-sm text-gray-700 mb-4">
                <li>現在のレイアウトをほぼ維持</li>
                <li>シーン一覧のスペースを確保できる</li>
                <li>狭いディスプレイでも対応可能</li>
            </ul>

            <h4 class="font-bold text-gray-900 mb-2">⚠️ デメリット</h4>
            <ul class="list-disc list-inside space-y-1 text-sm text-gray-700">
                <li>画像と動画を同時に見られない</li>
                <li>タブ切り替えの手間</li>
            </ul>
        </div>

        <!-- 案3: 横スクロール -->
        <div class="card proposal mb-8">
            <h3 class="text-2xl font-bold text-green-900 mb-4">案3: 横スクロール対応</h3>

            <div class="overflow-x-auto pb-4">
                <div class="flex gap-3" style="min-width: 1400px;">
                    <div class="column-box col-gps" style="min-width: 280px;">
                        <h4 class="font-bold text-orange-800 mb-2 text-sm">GPS</h4>
                        <p class="text-xs">固定幅<br>280px</p>
                    </div>
                    <div class="column-box col-scenes" style="min-width: 500px;">
                        <h4 class="font-bold text-blue-800 mb-2 text-sm">シーン一覧</h4>
                        <p class="text-xs">固定幅<br>500px</p>
                    </div>
                    <div class="column-box col-image" style="min-width: 380px;">
                        <h4 class="font-bold text-purple-800 mb-2 text-sm">画像生成</h4>
                        <p class="text-xs">固定幅<br>380px</p>
                    </div>
                    <div class="column-box col-video" style="min-width: 380px;">
                        <h4 class="font-bold text-green-800 mb-2 text-sm">🆕 動画生成</h4>
                        <p class="text-xs">固定幅<br>380px</p>
                    </div>
                </div>
            </div>
            <p class="text-xs text-gray-500 mb-4">↔️ 横スクロールで全体を確認</p>

            <h4 class="font-bold text-gray-900 mb-2">✅ メリット</h4>
            <ul class="list-disc list-inside space-y-1 text-sm text-gray-700 mb-4">
                <li>各カラムに十分なスペースを確保</li>
                <li>どんなディスプレイサイズでも対応可能</li>
                <li>画像と動画を同時に見られる</li>
            </ul>

            <h4 class="font-bold text-gray-900 mb-2">⚠️ デメリット</h4>
            <ul class="list-disc list-inside space-y-1 text-sm text-gray-700">
                <li>横スクロールの操作が必要</li>
                <li>全体を一目で見渡せない</li>
            </ul>
        </div>

        <!-- ワークフロー図 -->
        <div class="card mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">🔄 想定ワークフロー</h2>

            <div class="bg-white p-6 rounded-lg border-2 border-gray-200">
                <div class="flex items-center justify-between mb-8">
                    <div class="text-center flex-1">
                        <div class="bg-orange-100 border-2 border-orange-400 rounded-lg p-4 mb-2">
                            <div class="text-3xl mb-2">📋</div>
                            <div class="font-bold text-orange-900">1. GPS設定</div>
                            <div class="text-xs text-orange-700">企画情報を入力</div>
                        </div>
                    </div>
                    <div class="workflow-arrow px-4">→</div>
                    <div class="text-center flex-1">
                        <div class="bg-blue-100 border-2 border-blue-400 rounded-lg p-4 mb-2">
                            <div class="text-3xl mb-2">🎬</div>
                            <div class="font-bold text-blue-900">2. シーン作成</div>
                            <div class="text-xs text-blue-700">シーン・セリフ追加</div>
                        </div>
                    </div>
                    <div class="workflow-arrow px-4">→</div>
                    <div class="text-center flex-1">
                        <div class="bg-purple-100 border-2 border-purple-400 rounded-lg p-4 mb-2">
                            <div class="text-3xl mb-2">🖼️</div>
                            <div class="font-bold text-purple-900">3. 画像生成</div>
                            <div class="text-xs text-purple-700">シーン選択→画像生成</div>
                        </div>
                    </div>
                    <div class="workflow-arrow px-4">→</div>
                    <div class="text-center flex-1">
                        <div class="bg-green-100 border-2 border-green-400 rounded-lg p-4 mb-2">
                            <div class="text-3xl mb-2">🎥</div>
                            <div class="font-bold text-green-900">4. 動画生成</div>
                            <div class="text-xs text-green-700">画像選択→動画生成</div>
                        </div>
                    </div>
                </div>

                <div class="bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4">
                    <h3 class="font-bold text-yellow-900 mb-2">💡 重要なポイント</h3>
                    <ul class="list-disc list-inside space-y-1 text-sm text-yellow-800">
                        <li><strong>シーン選択</strong> → 右側の画像生成・動画生成パネルが連動</li>
                        <li><strong>画像生成後</strong> → 自動的に動画生成パネルにその画像が選択される</li>
                        <li><strong>動画生成</strong> → プロンプト入力 → Veo 3.1で動画生成</li>
                        <li><strong>全体を通して</strong> → ページ遷移なしで完結</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 動画生成パネルの詳細 -->
        <div class="card mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">🎥 動画生成パネルの構成（新規追加）</h2>

            <div class="bg-green-50 border-2 border-green-300 rounded-lg p-6">
                <h3 class="font-bold text-green-900 mb-4 text-lg">動画生成パネル</h3>

                <!-- 選択中のシーン情報 -->
                <div class="bg-white rounded-lg p-4 mb-4 border border-green-200">
                    <div class="text-xs text-green-700 font-semibold mb-2">選択中のシーン</div>
                    <div class="font-bold text-green-900">シーン #1</div>
                </div>

                <!-- 選択中の画像 -->
                <div class="bg-white rounded-lg p-4 mb-4 border border-green-200">
                    <div class="text-xs text-green-700 font-semibold mb-2">選択中の画像</div>
                    <div class="aspect-video bg-gray-200 rounded flex items-center justify-center text-gray-500 text-sm">
                        画像プレビュー
                    </div>
                    <div class="text-xs text-gray-600 mt-2">※ 画像生成パネルで採用した画像が自動選択</div>
                </div>

                <!-- プロンプト入力 -->
                <div class="bg-white rounded-lg p-4 mb-4 border border-green-200">
                    <label class="block text-xs font-semibold text-green-700 mb-2">動画生成プロンプト</label>
                    <textarea class="w-full h-20 px-3 py-2 border border-gray-300 rounded-lg text-sm" placeholder="この画像から動画を生成します。動きやアクションを記述してください..."></textarea>
                </div>

                <!-- モデル選択 -->
                <div class="bg-white rounded-lg p-4 mb-4 border border-green-200">
                    <label class="block text-xs font-semibold text-green-700 mb-2">モデル</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                        <option>Veo 3.1 Fast ($1.20/8秒)</option>
                        <option>Veo 3.1 Standard ($3.20/8秒)</option>
                    </select>
                </div>

                <!-- 生成ボタン -->
                <button class="w-full py-3 bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold rounded-lg hover:from-green-700 hover:to-blue-700 transition">
                    🎥 動画を生成
                </button>

                <!-- 動画履歴 -->
                <div class="mt-6">
                    <h4 class="font-bold text-green-900 mb-3 text-sm">動画履歴</h4>
                    <div class="space-y-2">
                        <div class="bg-white rounded-lg p-3 border border-green-200">
                            <div class="aspect-video bg-gray-200 rounded flex items-center justify-center text-gray-500 text-xs mb-2">
                                動画プレビュー
                            </div>
                            <div class="text-xs text-gray-600">2026-01-10 15:30</div>
                            <button class="mt-2 w-full px-3 py-1 bg-green-100 text-green-700 rounded text-xs hover:bg-green-200">
                                ダウンロード
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 推奨案の詳細レイアウト -->
        <div class="card proposal mb-8">
            <h2 class="text-2xl font-bold text-green-900 mb-4">🏆 推奨: 案1の詳細レイアウト</h2>

            <div class="bg-white border-2 border-green-400 rounded-lg p-4">
                <div class="flex gap-2 h-96">
                    <!-- GPS -->
                    <div class="bg-orange-50 border border-orange-300 rounded p-3" style="width: 280px; overflow-y: auto;">
                        <div class="font-bold text-orange-900 text-sm mb-2">GPS</div>
                        <div class="text-xs space-y-2">
                            <div class="bg-white p-2 rounded border">企画名</div>
                            <div class="bg-white p-2 rounded border">サムネイル</div>
                            <div class="bg-white p-2 rounded border">Goal</div>
                            <div class="bg-white p-2 rounded border">Plan</div>
                            <div class="bg-white p-2 rounded border">Status</div>
                        </div>
                    </div>

                    <!-- シーン一覧 -->
                    <div class="bg-blue-50 border border-blue-300 rounded p-3 flex-1 overflow-y-auto">
                        <div class="font-bold text-blue-900 text-sm mb-2">シーン一覧</div>
                        <div class="text-xs space-y-2">
                            <div class="bg-white p-3 rounded border-2 border-blue-500">
                                <div class="font-bold mb-1">シーン #1 ⭐選択中</div>
                                <div class="text-gray-600">セリフ: 2件</div>
                            </div>
                            <div class="bg-white p-3 rounded border">
                                <div class="font-bold mb-1">シーン #2</div>
                                <div class="text-gray-600">セリフ: 1件</div>
                            </div>
                            <div class="bg-white p-3 rounded border">
                                <div class="font-bold mb-1">シーン #3</div>
                                <div class="text-gray-600">セリフ: 3件</div>
                            </div>
                        </div>
                    </div>

                    <!-- 画像生成 -->
                    <div class="bg-purple-50 border border-purple-300 rounded p-3 overflow-y-auto" style="width: 360px;">
                        <div class="font-bold text-purple-900 text-sm mb-2">📷 画像生成</div>
                        <div class="text-xs space-y-2">
                            <div class="bg-white p-2 rounded border">
                                <div class="text-gray-600 mb-1">シーン #1</div>
                            </div>
                            <div class="bg-white p-2 rounded border aspect-video bg-gray-200 flex items-center justify-center">
                                参照画像
                            </div>
                            <div class="bg-white p-2 rounded border">
                                <textarea class="w-full text-xs" rows="3" placeholder="プロンプト..."></textarea>
                            </div>
                            <button class="w-full py-2 bg-purple-600 text-white rounded text-xs">生成</button>
                            <div class="text-gray-600">画像履歴: 2件</div>
                        </div>
                    </div>

                    <!-- 動画生成 -->
                    <div class="bg-green-50 border border-green-300 rounded p-3 overflow-y-auto" style="width: 360px;">
                        <div class="font-bold text-green-900 text-sm mb-2">🎥 動画生成</div>
                        <div class="text-xs space-y-2">
                            <div class="bg-white p-2 rounded border">
                                <div class="text-gray-600 mb-1">シーン #1</div>
                            </div>
                            <div class="bg-white p-2 rounded border aspect-video bg-gray-200 flex items-center justify-center">
                                選択中の画像
                            </div>
                            <div class="bg-white p-2 rounded border">
                                <textarea class="w-full text-xs" rows="3" placeholder="動画プロンプト..."></textarea>
                            </div>
                            <div class="bg-white p-2 rounded border">
                                <select class="w-full text-xs">
                                    <option>Veo 3.1 Fast</option>
                                </select>
                            </div>
                            <button class="w-full py-2 bg-green-600 text-white rounded text-xs">生成</button>
                            <div class="text-gray-600">動画履歴: 1件</div>
                        </div>
                    </div>
                </div>

                <div class="mt-4 bg-green-100 rounded p-3">
                    <div class="font-bold text-green-900 text-sm mb-2">📏 推奨画面サイズ</div>
                    <ul class="text-xs text-green-800 space-y-1">
                        <li>• 最小幅: 1400px（GPS 280px + シーン 400px + 画像 360px + 動画 360px）</li>
                        <li>• 推奨: 1920px以上（フルHD）</li>
                        <li>• 各カラムは個別にスクロール可能</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 実装の優先順位 -->
        <div class="card mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">🔧 実装の優先順位</h2>

            <div class="space-y-3">
                <div class="bg-green-50 border-2 border-green-400 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">優先度: 高</span>
                        <h3 class="font-bold text-green-900">Step 1: レイアウト調整</h3>
                    </div>
                    <p class="text-sm text-gray-700">4カラムレイアウトに変更（CSS調整のみ）</p>
                </div>

                <div class="bg-blue-50 border-2 border-blue-400 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="bg-blue-600 text-white px-2 py-1 rounded text-xs font-bold">優先度: 高</span>
                        <h3 class="font-bold text-blue-900">Step 2: 動画生成パネルUI作成</h3>
                    </div>
                    <p class="text-sm text-gray-700">HTMLマークアップ（機能はモック）</p>
                </div>

                <div class="bg-purple-50 border-2 border-purple-400 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="bg-purple-600 text-white px-2 py-1 rounded text-xs font-bold">優先度: 中</span>
                        <h3 class="font-bold text-purple-900">Step 3: シーン選択時の連動</h3>
                    </div>
                    <p class="text-sm text-gray-700">シーン選択 → 画像・動画パネルが更新</p>
                </div>

                <div class="bg-orange-50 border-2 border-orange-400 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="bg-orange-600 text-white px-2 py-1 rounded text-xs font-bold">優先度: 中</span>
                        <h3 class="font-bold text-orange-900">Step 4: 動画生成API統合</h3>
                    </div>
                    <p class="text-sm text-gray-700">Supabase Edge Function経由でVeo 3.1呼び出し</p>
                </div>
            </div>
        </div>

        <!-- まとめ -->
        <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-color: #667eea;">
            <h2 class="text-2xl font-bold text-white mb-4">📊 まとめ・推奨案</h2>

            <div class="bg-white bg-opacity-20 backdrop-blur rounded-lg p-4 mb-4">
                <h3 class="font-bold text-white mb-3">🏆 推奨: 案1（4カラムレイアウト）</h3>
                <ul class="text-white space-y-2 text-sm">
                    <li>✅ GPS（280px） + シーン一覧（可変） + 画像生成（360px） + 動画生成（360px）</li>
                    <li>✅ 左から右へのワークフローが直感的</li>
                    <li>✅ 画像と動画を同時に確認可能</li>
                    <li>✅ 各カラムが独立してスクロール</li>
                    <li>✅ 実装が比較的シンプル</li>
                </ul>
            </div>

            <div class="bg-white bg-opacity-20 backdrop-blur rounded-lg p-4">
                <h3 class="font-bold text-white mb-2">💡 次のステップ</h3>
                <ol class="text-white space-y-1 text-sm list-decimal list-inside">
                    <li>このUI案で進めるか確認</li>
                    <li>OKなら storyboard.html を4カラムに調整</li>
                    <li>動画生成パネルのHTMLを追加</li>
                    <li>JavaScript で連動処理を実装</li>
                    <li>Veo 3.1 API統合</li>
                </ol>
            </div>
        </div>

    </div>
</body>
</html>
