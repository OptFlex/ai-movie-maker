<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é€ä¿¡ãƒœã‚¿ãƒ³ä¸¦è¡Œç”Ÿæˆå¯¾å¿œ - 3ã¤ã®è§£æ±ºç­–æ¯”è¼ƒ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        h1 {
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: rgba(255,255,255,0.9);
            margin-bottom: 30px;
            font-size: 14px;
        }
        .problem {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .problem h2 {
            color: #e74c3c;
            margin-top: 0;
        }
        .timeline {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        .step {
            background: #ecf0f1;
            padding: 10px 15px;
            border-radius: 5px;
            flex: 1;
            min-width: 150px;
            text-align: center;
            font-size: 13px;
        }
        .step.bad {
            background: #ffebee;
            border: 2px solid #e74c3c;
        }
        .arrow {
            font-size: 20px;
            color: #7f8c8d;
        }
        .solutions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .solution {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .solution h3 {
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }
        .solution.recommended {
            border: 3px solid #f39c12;
            position: relative;
        }
        .solution.recommended::before {
            content: "æ¨å¥¨";
            position: absolute;
            top: -15px;
            right: 20px;
            background: #f39c12;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
        }
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin: 10px 0;
        }
        .keyword { color: #e74c3c; }
        .function { color: #3498db; }
        .string { color: #2ecc71; }
        .comment { color: #95a5a6; font-style: italic; }
        .pros-cons {
            margin: 15px 0;
        }
        .pros-cons h4 {
            margin: 10px 0 5px 0;
            font-size: 14px;
        }
        .pros {
            color: #27ae60;
        }
        .cons {
            color: #e74c3c;
        }
        ul {
            margin: 5px 0;
            padding-left: 20px;
        }
        li {
            margin: 5px 0;
            font-size: 13px;
        }
        .comparison-table {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
        }
        th {
            background: #3498db;
            color: white;
            font-weight: bold;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .star {
            color: #f39c12;
        }
        .diagram {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #3498db;
        }
        .flow {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .flow-step {
            background: white;
            padding: 10px;
            border-radius: 5px;
            border-left: 3px solid #2ecc71;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <h1>é€ä¿¡ãƒœã‚¿ãƒ³ä¸¦è¡Œç”Ÿæˆå¯¾å¿œ - 3ã¤ã®è§£æ±ºç­–æ¯”è¼ƒ</h1>
    <p class="subtitle">ä½œæˆæ—¥: 2026-01-18</p>

    <div class="problem">
        <h2>ğŸ”´ ç¾åœ¨ã®å•é¡Œ</h2>
        <p><strong>é€ä¿¡ãƒœã‚¿ãƒ³ï¼ˆsend-prompt-btnï¼‰ãŒãƒšãƒ¼ã‚¸å…¨ä½“ã§1ã¤ã—ã‹ãªãã€ã‚·ãƒ¼ãƒ³ã‚’ã¾ãŸã„ã§å…±æœ‰ã•ã‚Œã¦ã„ã‚‹</strong></p>

        <div class="timeline">
            <div class="step">ã‚·ãƒ¼ãƒ³1ã§<br>ç”»åƒç”Ÿæˆé–‹å§‹</div>
            <div class="arrow">â†’</div>
            <div class="step">ãƒœã‚¿ãƒ³disabled<br>ã«ãªã‚‹</div>
            <div class="arrow">â†’</div>
            <div class="step">ã‚·ãƒ¼ãƒ³2ã«<br>åˆ‡ã‚Šæ›¿ãˆ</div>
            <div class="arrow">â†’</div>
            <div class="step bad">âŒ ã‚·ãƒ¼ãƒ³2ã§ã‚‚<br>ãƒœã‚¿ãƒ³ãŒæŠ¼ã›ãªã„</div>
            <div class="arrow">â†’</div>
            <div class="step">ã‚·ãƒ¼ãƒ³1ã®ç”Ÿæˆå®Œäº†<br>ã§ã‚ˆã†ã‚„ãæŠ¼ã›ã‚‹</div>
        </div>

        <div class="code-block">
<span class="comment">// ãƒšãƒ¼ã‚¸ã«1ã¤ã—ã‹ãªã„é€ä¿¡ãƒœã‚¿ãƒ³</span>
<span class="keyword">const</span> sendBtn = document.<span class="function">getElementById</span>(<span class="string">'send-prompt-btn'</span>);

<span class="comment">// ã‚·ãƒ¼ãƒ³1ã§ç”Ÿæˆé–‹å§‹</span>
sendBtn.disabled = <span class="keyword">true</span>; <span class="comment">// â† å…¨ã‚·ãƒ¼ãƒ³ã§ç„¡åŠ¹åŒ–ã•ã‚Œã‚‹</span>

<span class="comment">// ã‚·ãƒ¼ãƒ³2ã«åˆ‡ã‚Šæ›¿ãˆã¦ã‚‚ã€åŒã˜ãƒœã‚¿ãƒ³ãªã®ã§disabledã®ã¾ã¾</span>
        </div>
    </div>

    <div class="solutions">
        <!-- è§£æ±ºç­–1 -->
        <div class="solution">
            <h3>è§£æ±ºç­–1: ã‚·ãƒ¼ãƒ³ã”ã¨ã«ãƒ•ãƒ©ã‚°ç®¡ç†</h3>

            <div class="diagram">
                <strong>ãƒ‡ãƒ¼ã‚¿æ§‹é€ :</strong>
                <div class="code-block">
scene.isGeneratingImage = <span class="keyword">false</span>;
                </div>
            </div>

            <div class="code-block">
<span class="comment">// é–‹å§‹æ™‚</span>
scene.isGeneratingImage = <span class="keyword">true</span>;
<span class="function">updateSendButtonState</span>();

<span class="comment">// å®Œäº†æ™‚</span>
scene.isGeneratingImage = <span class="keyword">false</span>;
<span class="function">updateSendButtonState</span>();

<span class="comment">// æ–°ã—ã„é–¢æ•°</span>
<span class="keyword">function</span> <span class="function">updateSendButtonState</span>() {
    <span class="keyword">const</span> scene = scenes.<span class="function">find</span>(s => s.id === selectedSceneId);
    <span class="keyword">const</span> sendBtn = document.<span class="function">getElementById</span>(<span class="string">'send-prompt-btn'</span>);

    <span class="keyword">if</span> (scene && scene.isGeneratingImage) {
        sendBtn.disabled = <span class="keyword">true</span>;
    } <span class="keyword">else</span> {
        sendBtn.disabled = <span class="keyword">false</span>;
    }
}
            </div>

            <div class="pros-cons">
                <h4 class="pros">âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li>ã‚·ãƒ¼ãƒ³ã”ã¨ã®çŠ¶æ…‹ãŒæ˜ç¢º</li>
                    <li>ã‚·ãƒ¼ãƒ³åˆ‡ã‚Šæ›¿ãˆæ™‚ã«é©åˆ‡ãªãƒœã‚¿ãƒ³çŠ¶æ…‹ã‚’å¾©å…ƒ</li>
                    <li>æ—¢å­˜HTMLæ§‹é€ ã‚’å¤‰æ›´ä¸è¦</li>
                </ul>

                <h4 class="cons">âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li>ã‚·ãƒ¼ãƒ³åˆ‡ã‚Šæ›¿ãˆã®ãŸã³ã«æ›´æ–°å‡¦ç†ãŒå¿…è¦</li>
                    <li>è¤‡æ•°ç®‡æ‰€ã§updateSendButtonState()ã‚’å‘¼ã¶å¿…è¦</li>
                </ul>
            </div>

            <p><strong>å®Ÿè£…é‡:</strong> ä¸­ç¨‹åº¦ï¼ˆé–¢æ•°1ã¤è¿½åŠ ã€5-6ç®‡æ‰€ä¿®æ­£ï¼‰</p>
        </div>

        <!-- è§£æ±ºç­–2 -->
        <div class="solution recommended">
            <h3>è§£æ±ºç­–2: ç”Ÿæˆä¸­ã‚·ãƒ¼ãƒ³IDã®Setç®¡ç†</h3>

            <div class="diagram">
                <strong>ãƒ‡ãƒ¼ã‚¿æ§‹é€ :</strong>
                <div class="code-block">
<span class="comment">// ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°</span>
<span class="keyword">const</span> generatingScenes = <span class="keyword">new</span> <span class="function">Set</span>();
<span class="comment">// ä¾‹: Set { "scene-1-id", "scene-3-id" }</span>
                </div>
            </div>

            <div class="code-block">
<span class="comment">// é–‹å§‹æ™‚</span>
generatingScenes.<span class="function">add</span>(sceneId);
<span class="function">updateSendButtonState</span>();

<span class="comment">// å®Œäº†æ™‚</span>
generatingScenes.<span class="function">delete</span>(sceneId);
<span class="function">updateSendButtonState</span>();

<span class="comment">// æ–°ã—ã„é–¢æ•°</span>
<span class="keyword">function</span> <span class="function">updateSendButtonState</span>() {
    <span class="keyword">const</span> sendBtn = document.<span class="function">getElementById</span>(<span class="string">'send-prompt-btn'</span>);
    <span class="keyword">const</span> isCurrentSceneGenerating =
        generatingScenes.<span class="function">has</span>(selectedSceneId);

    sendBtn.disabled = isCurrentSceneGenerating;
}
            </div>

            <div class="pros-cons">
                <h4 class="pros">âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li>ã‚·ãƒ³ãƒ—ãƒ«ã§ç†è§£ã—ã‚„ã™ã„</li>
                    <li>ã‚·ãƒ¼ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ±šã•ãªã„</li>
                    <li>ãƒ‡ãƒãƒƒã‚°ã—ã‚„ã™ã„ï¼ˆconsole.log(generatingScenes)ã§ä¸€ç›®ç­ç„¶ï¼‰</li>
                    <li>ãƒœã‚¿ãƒ³çŠ¶æ…‹ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚ã‚Š</li>
                </ul>

                <h4 class="cons">âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li>ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ãŒ1ã¤å¢—ãˆã‚‹</li>
                    <li>ã‚·ãƒ¼ãƒ³ã®çŠ¶æ…‹ãŒã‚·ãƒ¼ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¤–ã«ã‚ã‚‹</li>
                </ul>
            </div>

            <p><strong>å®Ÿè£…é‡:</strong> å°ã€œä¸­ç¨‹åº¦ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°1ã¤ã€é–¢æ•°1ã¤è¿½åŠ ã€5-6ç®‡æ‰€ä¿®æ­£ï¼‰</p>
        </div>

        <!-- è§£æ±ºç­–3 -->
        <div class="solution">
            <h3>è§£æ±ºç­–3: ã‚¬ãƒ¼ãƒ‰ã®ã¿ï¼ˆæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ï¼‰</h3>

            <div class="diagram">
                <strong>ã‚³ãƒ³ã‚»ãƒ—ãƒˆ:</strong> ãƒœã‚¿ãƒ³ã¯ç„¡åŠ¹åŒ–ã›ãšã€é–¢æ•°ã®å…ˆé ­ã§äºŒé‡å®Ÿè¡Œã‚’é˜²ã
            </div>

            <div class="code-block">
<span class="keyword">const</span> generatingScenes = <span class="keyword">new</span> <span class="function">Set</span>();

<span class="keyword">async function</span> <span class="function">generateImage</span>() {
    <span class="keyword">const</span> sceneId = selectedSceneId;

    <span class="comment">// æ—¢ã«ç”Ÿæˆä¸­ã®å ´åˆã¯ä½•ã‚‚ã—ãªã„</span>
    <span class="keyword">if</span> (generatingScenes.<span class="function">has</span>(sceneId)) {
        <span class="function">showToast</span>(<span class="string">'ã“ã®ã‚·ãƒ¼ãƒ³ã¯æ—¢ã«ç”»åƒç”Ÿæˆä¸­ã§ã™'</span>);
        <span class="keyword">return</span>;
    }

    <span class="keyword">try</span> {
        generatingScenes.<span class="function">add</span>(sceneId);

        <span class="comment">// ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºï¼ˆãƒœã‚¿ãƒ³ã¯ç„¡åŠ¹åŒ–ã—ãªã„ï¼‰</span>
        <span class="keyword">const</span> statusDiv = document.<span class="function">getElementById</span>(<span class="string">'generation-status'</span>);
        statusDiv.classList.<span class="function">remove</span>(<span class="string">'hidden'</span>);

        <span class="comment">// ... æ—¢å­˜ã®å‡¦ç† ...</span>

    } <span class="keyword">finally</span> {
        generatingScenes.<span class="function">delete</span>(sceneId);
        statusDiv.classList.<span class="function">add</span>(<span class="string">'hidden'</span>);
    }
}
            </div>

            <div class="pros-cons">
                <h4 class="pros">âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li><strong>æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«</strong>ï¼šãƒœã‚¿ãƒ³çŠ¶æ…‹ã®ç®¡ç†ãŒä¸è¦</li>
                    <li>ä»–ã®ã‚·ãƒ¼ãƒ³ã®ãƒœã‚¿ãƒ³ã¯å¸¸ã«æŠ¼ã›ã‚‹ï¼ˆUXå‘ä¸Šï¼‰</li>
                    <li>å®Ÿè£…ãŒç°¡å˜</li>
                </ul>

                <h4 class="cons">âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h4>
                <ul>
                    <li>ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œãªã„ã®ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€£æ‰“ã§ãã‚‹</li>
                    <li>ã€Œç”Ÿæˆä¸­ã€ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå¼±ã„</li>
                </ul>
            </div>

            <p><strong>å®Ÿè£…é‡:</strong> å°ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°1ã¤ã€3-4ç®‡æ‰€ä¿®æ­£ï¼‰</p>
        </div>
    </div>

    <div class="comparison-table">
        <h2>æ¯”è¼ƒè¡¨</h2>
        <table>
            <thead>
                <tr>
                    <th>è©•ä¾¡é …ç›®</th>
                    <th>è§£æ±ºç­–1<br>ã‚·ãƒ¼ãƒ³ãƒ•ãƒ©ã‚°</th>
                    <th>è§£æ±ºç­–2<br>Setç®¡ç† â­æ¨å¥¨</th>
                    <th>è§£æ±ºç­–3<br>ã‚¬ãƒ¼ãƒ‰ã®ã¿</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>å®Ÿè£…ã®ç°¡å˜ã•</strong></td>
                    <td><span class="star">â˜…â˜…</span>â˜†</td>
                    <td><span class="star">â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                </tr>
                <tr>
                    <td><strong>ã‚³ãƒ¼ãƒ‰ã®æ˜ç­æ€§</strong></td>
                    <td><span class="star">â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                </tr>
                <tr>
                    <td><strong>UXï¼ˆä»–ã‚·ãƒ¼ãƒ³ã§æ“ä½œå¯ï¼‰</strong></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                </tr>
                <tr>
                    <td><strong>è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯</strong></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…</span>â˜†</td>
                </tr>
                <tr>
                    <td><strong>ãƒ‡ãƒãƒƒã‚°ã®ã—ã‚„ã™ã•</strong></td>
                    <td><span class="star">â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…</span></td>
                </tr>
                <tr>
                    <td><strong>ä¿å®ˆæ€§</strong></td>
                    <td><span class="star">â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                    <td><span class="star">â˜…â˜…â˜…â˜…</span></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="problem" style="background: #fff3cd; border-left: 5px solid #f39c12; margin-top: 30px;">
        <h2 style="color: #f39c12;">ğŸ’¡ æ¨å¥¨ç†ç”±</h2>
        <p><strong>è§£æ±ºç­–2ï¼ˆç”Ÿæˆä¸­ã‚·ãƒ¼ãƒ³IDã®Setç®¡ç†ï¼‰ã‚’æ¨å¥¨</strong></p>
        <ul>
            <li>ã‚·ãƒ³ãƒ—ãƒ«ã§ç†è§£ã—ã‚„ã™ã„å®Ÿè£…</li>
            <li>ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“ï¼ˆSetã®ä¸­èº«ã‚’è¦‹ã‚Œã°ä¸€ç›®ç­ç„¶ï¼‰</li>
            <li>ãƒœã‚¿ãƒ³çŠ¶æ…‹ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚ã‚Š</li>
            <li>å®Ÿè£…é‡ãŒé©åº¦ã§ã€ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„</li>
        </ul>
    </div>

</body>
</html>
